<Ui xmlns="http://www.blizzard.com/wow/ui/">
    <Frame name="AnsAuctionBuyTemplate" virtual="true">
        <Anchors>
            <Anchor point="TOPLEFT" x="0" y="0"/>
            <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
        </Anchors>

        <Frames>
            <Frame name="$parentSearchBar">
                <Size x="605" y="22" />
                <Anchors>
                    <Anchor point="TOPLEFT" x="190" y="-55" />
                </Anchors>
                <Frames>
                    <EditBox name="$parentSearch" autoFocus="false" inherits="InputBoxTemplate" bytes="63">
                        <Size x="200" y="20"/>
                        <Anchors>
                            <Anchor point="TOPLEFT" x="0" y="0"/>
                        </Anchors>
                        <FontString inherits="ChatFontNormal" />

                        <Layers>
                            <Layer level="ARTWORK">
								<FontString inherits="GameFontHighlight" text="Search" justifyH="RIGHT">
									<Anchors>
										<Anchor point="LEFT" relativePoint="LEFT" x="0" y="15"/>
									</Anchors>
								</FontString>
							</Layer>
                        </Layers>

                        <Scripts>
                            <OnTextChanged>
                                if (self:GetText():len() > 0) then
                                    _G[self:GetParent():GetName().."ClearSearch"]:Show();
                                else
                                    _G[self:GetParent():GetName().."ClearSearch"]:Hide();
                                end
                            </OnTextChanged>
                            <OnEnterPressed>
                                if (string.gsub(self:GetText(), " ", ""):len() > 0) then
                                    AnsAuctions:StartBuyScan();
                                end
                                self:ClearFocus();
                            </OnEnterPressed>
                            <OnEscapePressed>
                                self:ClearFocus();
                            </OnEscapePressed>
                        </Scripts>
                    </EditBox>
                    <Button name="$parentClearSearch" hidden="true" text="X" inherits="UIPanelButtonTemplate">
                        <Size x="20" y="20" />
                        <Anchors>
                            <Anchor point="LEFT" relativeTo="$parentSearch" relativePoint="RIGHT" x="5" y="0" />
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                _G[self:GetParent():GetName().."Search"]:SetText("");
                            </OnClick>
                        </Scripts>
                    </Button>
                    <CheckButton inherits="UIRadioButtonTemplate" name="$parentExactMatch">
                        <Anchors>
                            <Anchor point="TOPLEFT"  relativePoint="BOTTOMLEFT" relativeTo="$parentSearch" x="0" y="-5" />
                        </Anchors>
                        <Scripts>
                            <OnLoad>_G[self:GetName().."Text"]:SetText("Exact Match");</OnLoad>
                        </Scripts>
                    </CheckButton>
                    <EditBox name="$parentPages" autoFocus="false" inherits="InputBoxTemplate" bytes="3">
                        <Size x="32" y="20" />
                        <Anchors>
                            <Anchor point="LEFT" x="10" y="0" relativeTo="$parentClearSearch" relativePoint="RIGHT" />
                        </Anchors>
                        <Layers>
                            <Layer level="ARTWORK">
								<FontString inherits="GameFontHighlight" text="# Pages to Scan" justifyH="RIGHT">
									<Anchors>
										<Anchor point="LEFT" relativePoint="LEFT" x="0" y="15"/>
									</Anchors>
								</FontString>
							</Layer>
                        </Layers>
                        <Scripts>
                            <OnLoad>
                                self:SetNumber(4);
                            </OnLoad>
                            <OnEnterPressed>
                                self:ClearFocus();
                            </OnEnterPressed>
                            <OnEscapePressed>
                                self:ClearFocus();
                            </OnEscapePressed>
                        </Scripts>
                    </EditBox>
                </Frames>
            </Frame>

            <Frame name="$parentBottomBar">
                <Size x="300" y="22" />
                <Anchors>
                    <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="-50" y="15" />
                </Anchors>
                <Layers>
                    <Layer level="OVERLAY">
                        <FontString name="$parentStatus" text="" justifyH="CENTER" inherits="GameFontHighlightSmall">
                            <Anchors>
                                <Anchor point="RIGHT" relativePoint="LEFT" x="-50" y="0" />
                            </Anchors>
                        </FontString>
                    </Layer>
                </Layers>
                <Frames>
                    <Button name="$parentStart" text="Scan" inherits="UIPanelButtonTemplate">
                        <Size x="78" y="22" />
                        <Anchors>
                            <Anchor point="RIGHT" relativePoint="RIGHT" x="0" y="0"/>
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                AnsAuctions:StartBuyScan();
                            </OnClick>
                        </Scripts>
                    </Button>

                    <Button name="$parentStop" text="Cancel" inherits="UIPanelButtonTemplate">
                        <Size x="78" y="22" />
                        <Anchors>
                            <Anchor point="RIGHT" relativeTo="$parentStart" relativePoint="LEFT" x="-5" y="0" />
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                AnsAuctions:StopBuyScan();
                            </OnClick>
                        </Scripts>
                    </Button>

                    <Button name="$parentBuy" text="Buy" inherits="UIPanelButtonTemplate">
                        <Size x="64" y="22" />
                        <Anchors>
                            <Anchor point="LEFT" />
                        </Anchors>
                        <Scripts>
                            <OnClick>
                                AnsAuctions:BuyAuction();
                            </OnClick>
                        </Scripts>
                    </Button>
                </Frames>
            </Frame>

            <Frame name="$parentHeader">
                <Size x="630" y="64" />
                <Anchors>
                    <Anchor point="TOPLEFT" relativeTo="$parentSearchBar" relativePoint="BOTTOMLEFT"  x="0" y="-10" />
                </Anchors>
                <Layers>
                    <Layer level="ARTWORK">
                        <Texture name="$parentMiddle" file="Interface\Glues\CharacterCreate\CharacterCreate-LabelFrame">
                            <Size x="605" y="64" />
                            <TexCoords left="0.2" right="0.8" top="0" bottom="1" />
                        </Texture>
                    </Layer>
                </Layers>
                <Frames>
                    <Button name="$parentName" text="Name" inherits="AnsAuctionHeadingTemplate">
                        <Size x="172" y="20" />
                        <Anchors>
                            <Anchor point="TOPLEFT" x="0" y="-21"/>
                        </Anchors>
                    </Button>
                    <Button name="$parentLevel" text="iLvL" inherits="AnsAuctionHeadingTemplate">
                        <Size x="40" y="20"/>
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeTo="$parentName" relativePoint="TOPRIGHT" x="32" y="0"/>
                        </Anchors>
                    </Button>
                    <Button name="$parentPosts" text="Posts" inherits="AnsAuctionHeadingTemplate">
                        <Size x="40" y="20"/>
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeTo="$parentLevel" relativePoint="TOPRIGHT" x="5" y="0"/>
                        </Anchors>
                    </Button>
                    <Button name="$parentStack" text="Stack" inherits="AnsAuctionHeadingTemplate">
                        <Size x="40" y="20" />
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeTo="$parentPosts" relativePoint="TOPRIGHT" x="5" y="0" />
                        </Anchors>
                    </Button>
                    <Button name="$parentSeller" text="Seller" inherits="AnsAuctionHeadingTemplate">
                        <Size x="90" y="20" />
                        <Anchors>
                            <Anchor point="TOPLEFT" relativeTo="$parentStack" relativePoint="TOPRIGHT" x="5" y="0" />
                        </Anchors>
                    </Button>
                    <Button name="$parentPercent" text="%" inherits="AnsAuctionHeadingTemplate">
                        <Size x="40" y="20" />
                        <Anchors>
                            <Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" x="-20" y="-21" />
                        </Anchors>
                    </Button>
                    <Button name="$parentPPU" text="PPU" inherits="AnsAuctionHeadingTemplate">
                        <Size x="125" y="20" />
                        <Anchors>
                            <Anchor point="TOPRIGHT" relativeTo="$parentPercent" relativePoint="TOPLEFT" x="5" y="0" />
                        </Anchors>
                    </Button>
                </Frames>
            </Frame>

            <Frame name="$parentAuctions">
                <Size x="605" y="256" />
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" relativeTo="$parentHeader" x="0" y="15" />
                </Anchors>
                <Frames>
                    <ScrollFrame name="$parentTreeView" inherits="FauxScrollFrameTemplate">
                        <Size x="605" y="256"/>
                        <Anchors>
                            <Anchor point="TOPLEFT" x="0" y="0"/>
                        </Anchors>
                        <Layers>
                            <Layer level="ARTWORK">
                                <Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
                                    <Size x="31" y="256"/>
                                    <Anchors>
                                        <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="-2" y="5"/>
                                    </Anchors>
                                    <TexCoords left="0" right="0.484375" top="0" bottom="1.0"/>
                                </Texture>
                                <Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
                                    <Size x="31" y="106" />
                                    <Anchors>
                                        <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="-2" y="-2" />
                                    </Anchors>
                                    <TexCoords left="0.515625" right="1.0" top="0" bottom="0.4140625"/>
                                </Texture>
                            </Layer>
                        </Layers>
                    </ScrollFrame>
                </Frames>
            </Frame>

            <ScrollFrame name="$parentTreeView" inherits="FauxScrollFrameTemplate">
                <Size x="138" y="305" />
                <Anchors>
                    <Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="22" y="-105"/>
                </Anchors>
                <Layers>
                    <Layer level="ARTWORK">
                        <FontString name="$parentLabel" inherits="GameFontHighlight" text="Groups">
                            <Anchors><Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" x="40" y="10"/></Anchors>
                        </FontString>
                        <Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
                            <Size x="31" y="256"/>
                            <Anchors>
                                <Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="-2" y="5"/>
                            </Anchors>
                            <TexCoords left="0" right="0.484375" top="0" bottom="1.0"/>
                        </Texture>
                        <Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
                            <Size x="31" y="106"/>
                            <Anchors>
                                <Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="-2" y="-2"/>
                            </Anchors>
                            <TexCoords left="0.515625" right="1.0" top="0" bottom="0.4140625"/>
                        </Texture>
                    </Layer>
                </Layers>
                <!-- will eventually add this feature in for buying
                <Frames>
                    <Button name="$parentReset" text="Reset" inherits="UIPanelButtonTemplate">
                        <Size x="52" y="22" />
                        <Anchors>
                            <Anchor point="LEFT" x="5" y="0" relativeTo="$parentLabel" relativePoint="RIGHT" />
                        </Anchors>
                    </Button>
                </Frames>-->
            </ScrollFrame>
        </Frames>
    </Frame>
</Ui>